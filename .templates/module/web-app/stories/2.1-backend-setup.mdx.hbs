import { Meta } from '@storybook/addon-docs';

<Meta title="Backend/Setting up the zomes" />

# Setting up the zomes

> This guide assumes you are inside a nix develop environment with `hc scaffold` available.

1. Scaffold a new zome pair named `{{app_name}}` with:

```bash
hc scaffold zome {{app_name}}
```

Select the "Integrity/coordinator zome pair" option, and accept the path that the scaffolding tool offers to scaffold the zomes.

2. Add the `hc_zome_profiles_coordinator` and `hc_zome_profiles_integrity` zomes as dependencies with:

```bash
cargo add -p {{app_name}} hc_zome_{{snake_case app_name}}_coordinator
cargo add -p {{app_name}}_integrity hc_zome_{{snake_case app_name}}_integrity
```

3. Go into the newly scaffolded integrity zome's `lib.rs` (its path may be similar to `dnas/lobby/zomes/integrity/{{snake_case app_name}}/src/lib.rs`) and **replace its contents with**:

```rust
extern crate hc_zome_{{snake_case app_name}}_integrity;
```

4. Go into the newly scaffolded coordinator zome's `lib.rs` (its path may be similar to `dnas/lobby/zomes/coordinator/{{snake_case app_name}}/src/lib.rs`) and **replace its contents with**:

```rust
extern crate hc_zome_{{snake_case app_name}}_coordinator;
```
